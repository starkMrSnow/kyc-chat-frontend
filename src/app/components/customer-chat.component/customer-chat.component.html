<div class="chat-container">
  <div class="chat-area">
    <div class="chat-header">
      <h4>Customer Support Chat</h4>
      <!-- You could optionally display who you're chatting with if the admin's name is known -->
    </div>

    <div class="message-list">
      <div *ngFor="let message of messages; trackBy: trackByMessageId"
           [class.sent-by-user]="message.sender === 'user'"
           [class.sent-by-admin]="message.sender === 'admin'"
           class="message-bubble" #messageBubble>
        <p>{{ message.text }}</p>
        <span class="timestamp">{{ message.timestamp | date:'shortTime' }}</span>
      </div>
      <div *ngIf="messages.length === 0" class="no-messages">
        No messages yet. Send us your inquiry!
      </div>
    </div>

    <div class="message-input-area">
      <textarea [(ngModel)]="newMessageText"
                placeholder="Ask something..."
                (keydown.enter)="sendMessage($event)"
                aria-label="Type your inquiry"></textarea>
      <button (click)="sendMessage()" [disabled]="!newMessageText.trim()" aria-label="Send message">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="send-icon">
          <path d="M22 2L11 13"></path>
          <path d="M22 2L15 22L11 13L2 9L22 2Z"></path>
        </svg>
      </button>
    </div>
  </div>
</div>
